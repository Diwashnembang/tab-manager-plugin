(()=>{"use strict";({994:function(){var n=this&&this.__awaiter||function(n,e,t,i){return new(t||(t=Promise))((function(o,s){function c(n){try{d(i.next(n))}catch(n){s(n)}}function a(n){try{d(i.throw(n))}catch(n){s(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};let e=[];function t(e){return n(this,void 0,void 0,(function*(){let n=yield chrome.storage.session.get(["bindings"]);if(!n.bindings)return console.log("cannot get bindings");e.postMessage({message:"updateBindings",success:!0,data:n.bindings})}))}chrome.runtime.onStartup.addListener((()=>n(void 0,void 0,void 0,(function*(){yield chrome.storage.session.set({shouldWakeUp:!1})})))),chrome.runtime.onConnect.addListener((i=>{console.log(`${i.name}'s port connected`),i.onMessage.addListener((o=>{o.action,"switchTab"===o.action&&function(e,t){n(this,void 0,void 0,(function*(){try{yield chrome.tabs.update(e.tabId,{active:!0})}catch(n){console.log("error swtiching tabs",n),t.postMessage({success:!1,info:"Error switching tab",message:"switchTabUpdate"})}}))}(o,i),o.action,o.action,"setAllTabs"===o.action&&function(t,i){n(this,void 0,void 0,(function*(){try{e=yield chrome.tabs.query({currentWindow:!0}),yield chrome.storage.session.set({tabs:e}),i.postMessage({message:"updateData",success:!0,data:e})}catch(n){console.log("errer setting tabs because",n)}}))}(0,i),"setBinding"===o.action&&function(i,o){n(this,void 0,void 0,(function*(){var n;try{e=yield chrome.tabs.query({active:!0,currentWindow:!0})}catch(n){console.log("error inexing tab because ",n)}let s=i.additionalInfo.index;if(!s)return console.log("cannot set binding because binding is ",s);try{let i=(yield chrome.storage.session.get(["bindings"])).bindings||{};i[null===(n=e[0])||void 0===n?void 0:n.windowId]||(i[e[0].windowId]={}),i[e[0].windowId][s]=e[0],yield chrome.storage.session.set({bindings:i}),yield t(o)}catch(n){console.log("couldn't get bindings from the storage baecausje",n)}}))}(o,i),"triggerUpdateBinding"===o.action&&t(i)})),i.onDisconnect.addListener((()=>n(void 0,void 0,void 0,(function*(){console.log("port disconnected",i.name),i.name}))))}))}})[994]()})();