(()=>{"use strict";({994:function(){var e=this&&this.__awaiter||function(e,o,n,t){return new(n||(n=Promise))((function(i,r){function d(e){try{c(t.next(e))}catch(e){r(e)}}function a(e){try{c(t.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?i(e.value):(o=e.value,o instanceof n?o:new n((function(e){e(o)}))).then(d,a)}c((t=t.apply(e,o||[])).next())}))};let o,n=[],t=new Map;chrome.windows.onCreated.addListener((e=>{let o={window:e,tabs:new Map};n.push(o),console.log("window",n)})),chrome.runtime.onMessage.addListener(((i,r,d)=>{if("getCurrentTab"===i.action)return e(void 0,void 0,void 0,(function*(){try{o=yield chrome.tabs.query({active:!0,currentWindow:!0});for(let e=0;e<n.length;e++)if(o[0].windowId===n[e].window.id){n[e].tabs.set(i.additionalInfo.index,o[0]);break}console.log(t)}catch(e){console.log("error getting tab",e)}})),!0;if("switchTab"===i.action){let o=i.additionalInfo.indexKey;e(void 0,void 0,void 0,(function*(){let e=yield chrome.windows.getCurrent();console.log("this is current window",e);for(let t=0;t<n.length;t++)if(e.id===n[t].window.id){let e=n[t].tabs.get(o.toLocaleLowerCase());if(!e)return void console.log(e);chrome.tabs.update(Number(e.id),{active:!0});break}}))}return"getTabs"===i.action&&e(void 0,void 0,void 0,(function*(){let e=yield chrome.windows.getCurrent();for(let t=0;t<n.length;t++)if(e.id===n[t].window.id){d((o=n[t].tabs,Array.from(o.entries())));break}var o})),!0})),function(){console.log("inn"),(()=>{e(this,void 0,void 0,(function*(){let e=yield chrome.windows.getAll();for(let o=0;o<e.length;o++){let t={window:e[o],tabs:new Map};n.push(t)}console.log("windows pop",n)}))})()}()}})[994]()})();