(()=>{"use strict";({994:function(){var t=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))((function(n,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function d(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,d)}l((i=i.apply(t,e||[])).next())}))};let e,o=[];new Map,chrome.windows.onCreated.addListener((t=>{let e={window:t,tabs:new Map};o.push(e)})),chrome.runtime.onMessage.addListener(((i,n,r)=>{if("getCurrentTab"===i.action)return t(void 0,void 0,void 0,(function*(){try{e=yield chrome.tabs.query({active:!0,currentWindow:!0});for(let t=0;t<o.length;t++)if(e[0].windowId===o[t].window.id){o[t].tabs.set(i.additionalInfo.index,e[0]);break}}catch(t){console.log("error getting tab",t)}})),!0;if("switchTab"===i.action){let e=i.additionalInfo.indexKey;t(void 0,void 0,void 0,(function*(){let t=yield chrome.windows.getCurrent();for(let i=0;i<o.length;i++)if(t.id===o[i].window.id){let t=o[i].tabs.get(e.toLocaleLowerCase());if(!t)return void console.log(t);chrome.tabs.update(Number(t.id),{active:!0});break}}))}return"getTabs"===i.action&&t(void 0,void 0,void 0,(function*(){let t=yield chrome.windows.getLastFocused();for(let i=0;i<o.length;i++)if(console.log("this is all windows tab",o[i].tabs),t.id===o[i].window.id){console.log("this is windws's tab",o[i].tabs),r((e=o[i].tabs,Array.from(e.entries())));break}var e})),!0})),function(){(()=>{t(this,void 0,void 0,(function*(){var t,e;try{let i=yield chrome.windows.getAll({populate:!0});for(let n=0;n<i.length;n++){let r={window:i[n],tabs:new Map};o.push(r);let a=null===(t=i[n])||void 0===t?void 0:t.tabs;if(console.log(a),console.log("this is windows",o),a)for(let t=0;t<a.length;t++){let o=null===(e=a[t])||void 0===e?void 0:e.id;if(!o)throw`tab id unvalid ${a[n]}`;chrome.scripting.executeScript({target:{tabId:o},files:["dist/content.js"]})}}}catch(t){console.log("error populating window",t)}console.log("all windoes",o)}))})()}()}})[994]()})();