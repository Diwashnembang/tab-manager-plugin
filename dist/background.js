(()=>{"use strict";({994:function(){var e=this&&this.__awaiter||function(e,n,i,t){return new(i||(i=Promise))((function(o,s){function c(e){try{d(t.next(e))}catch(e){s(e)}}function a(e){try{d(t.throw(e))}catch(e){s(e)}}function d(e){var n;e.done?o(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(c,a)}d((t=t.apply(e,n||[])).next())}))};let n={},i=[];chrome.runtime.onConnect.addListener((t=>{t.onMessage.addListener((o=>{"switchTab"===o.action&&function(t,o){e(this,void 0,void 0,(function*(){let e=t.index;try{i=yield chrome.tabs.query({active:!0,currentWindow:!0});let t=n[i[0].windowId][e].id;if(t===i[0].id)return void o.postMessage({success:!1,info:"Already on the tab",message:"switchingTabUpdate"});if(t)return chrome.tabs.update(t,{active:!0}),void chrome.tabs.sendMessage(t,{success:!0,info:"Tab Switched Sucessfully",message:"switchingTabUpdate"});throw console.error("undefiend tabId",t)}catch(e){o.postMessage({success:!1,info:"Key binding doesn't exist",message:"switchingTabUpdate"}),console.log("error swtiching tabs",e)}}))}(o,t),"deleteBinding"===o.action&&function(i){e(this,void 0,void 0,(function*(){delete n[i.windowId][i.key];try{yield chrome.storage.session.set({bindings:n})}catch(e){console.log("error deleting bindings form the storage because",e)}}))}(o),"setBinding"===o.action&&function(t,o){e(this,void 0,void 0,(function*(){var e;try{i=yield chrome.tabs.query({active:!0,currentWindow:!0})}catch(e){console.log("error inexing tab because ",e)}let s=t.additionalInfo.index;if(!s)return console.log("cannot set binding because binding is ",s);try{n[null===(e=i[0])||void 0===e?void 0:e.windowId]||(n[i[0].windowId]={}),n[i[0].windowId][s]=i[0],o.postMessage({message:"indexingTabUpdate",success:!0}),yield chrome.storage.session.set({bindings:n})}catch(e){console.log("couldn't get bindings from the storage baecausje",e),o.postMessage({message:"indexingTabUpdate",success:!0})}}))}(o,t),"getBindings"===o.action&&function(t,o){e(this,void 0,void 0,(function*(){var e;i=yield chrome.tabs.query({currentWindow:!0});let t=n[null===(e=i[0])||void 0===e?void 0:e.windowId];o.postMessage(t||{})}))}(0,t)})),"popup"!==t.name&&setInterval((()=>{try{t.postMessage({action:"health"})}catch(e){console.log(e,t.name)}}),15e3)})),function(){e(this,void 0,void 0,(function*(){try{if(!(yield chrome.storage.session.get(["wakingUp"])).wakingUp)throw"chould retrive waking up ";chrome.runtime.sendMessage({action:"wakeUp"}),function(){e(this,void 0,void 0,(function*(){try{let e=yield chrome.storage.session.get(["bindings"]);if(!e.bindings)throw"couldn't get bindings to seed data";n=Object.assign({},e.bindings)}catch(e){console.log("error seeding data because",e)}}))}()}catch(e){console.log("error wakin up because",e)}yield chrome.storage.session.set({wakingUp:!0})}))}()}})[994]()})();