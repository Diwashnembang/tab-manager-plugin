(()=>{"use strict";let e="Tab",n="",t="Shift",o=!1,c=!1,d=!1;const s=new CustomEvent("indexTab"),i=new CustomEvent("accessTab");function a(a){return c||"Alt"===a.key||a.key===t||a.key===e?c&&a.key===e&&e!=n?(o=!0,void((o||c)&&document.dispatchEvent(s))):void(a.key===t&&n&&n!=t&&(d=!0,console.log("this is access keypresses",d),console.log("this is index key",n),(d||c)&&document.dispatchEvent(i))):(n=a.key,void(c=!0))}function r(e){c&&(c=!1)}function u(e){o=!1,c=!1,h.postMessage({action:"getCurrentTab",additionalInfo:{index:n}})}function v(e){h.postMessage({action:"switchTab",additionalInfo:{indexKey:n}}),d=!1,c=!1}const m=[{event:"keydown",handler:a},{event:"keyUp",handler:r},{event:"accessTab",handler:v},{event:"indexTab",handler:u}];let h=chrome.runtime.connect({name:"content"});document.addEventListener("keydown",a),document.addEventListener("keyup",r),document.addEventListener("indexTab",u),document.addEventListener("accessTab",v),h.onDisconnect.addListener((()=>{!function(e){e.forEach((e=>{document.removeEventListener(e.event,e.handler)}))}(m),h.disconnect(),h=chrome.runtime.connect({name:"content"})}))})();