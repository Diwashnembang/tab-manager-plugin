(()=>{"use strict";let e="Tab",n="",t="Shift",s=!1,o=!1,d=!1;const a=new CustomEvent("indexTab"),c=new CustomEvent("accessTab");function i(i){return o||"Alt"===i.key||i.key===t||i.key===e?o&&i.key===e&&e!=n?(s=!0,void((s||o)&&document.dispatchEvent(a))):void(i.key===t&&n&&n!=t&&(d=!0,console.log("this is access keypresses",d),console.log("this is index key",n),(d||o)&&document.dispatchEvent(c))):(n=i.key,void(o=!0))}function r(e){o&&(o=!1)}function u(e){s=!1,o=!1,m.postMessage({action:"getCurrentTab",additionalInfo:{index:n}})}function v(e){m.postMessage({action:"switchTab",additionalInfo:{indexKey:n}}),d=!1,o=!1}const l=[{event:"keydown",handler:i},{event:"keyUp",handler:r},{event:"accessTab",handler:v},{event:"indexTab",handler:u}],m=chrome.runtime.connect({name:"content"});document.addEventListener("keydown",i),document.addEventListener("keyup",r),document.addEventListener("indexTab",u),document.addEventListener("accessTab",v),m.onMessage.addListener((e=>{"cleanup events"===e.message&&function(e){e.forEach((e=>{document.removeEventListener(e.event,e.handler)}))}(l)}))})();