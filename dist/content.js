(()=>{"use strict";let e="Tab",n="",t="Shift",o=!1,s=!1,c=!1;const d=new CustomEvent("indexTab"),i=new CustomEvent("accessTab");function a(a){return s||"Alt"===a.key||a.key===t||a.key===e?s&&a.key===e&&e!=n?(o=!0,void((o||s)&&document.dispatchEvent(d))):void(a.key===t&&n&&n!=t&&(c=!0,console.log("this is access keypresses",c),console.log("this is index key",n),(c||s)&&document.dispatchEvent(i))):(n=a.key,void(s=!0))}function r(e){s&&(s=!1)}function l(e){o=!1,s=!1,h.postMessage({action:"getCurrentTab",additionalInfo:{index:n}})}function u(e){h.postMessage({action:"switchTab",additionalInfo:{indexKey:n}}),c=!1,s=!1}const v=[{event:"keydown",handler:a},{event:"keyUp",handler:r},{event:"accessTab",handler:u},{event:"indexTab",handler:l}];console.log("connetion established with backgroound");let h=chrome.runtime.connect({name:"content"});document.addEventListener("keydown",a),document.addEventListener("keyup",r),document.addEventListener("indexTab",l),document.addEventListener("accessTab",u),h.onDisconnect.addListener((()=>{console.log("connection to port lost"),function(e){e.forEach((e=>{document.removeEventListener(e.event,e.handler)}))}(v)}))})();